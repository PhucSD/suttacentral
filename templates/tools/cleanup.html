{% set current = 2 %}
{% extends "tools/tools-base.html" -%}
{% block tool %}

<form id="tools-cleanup" action="/tools/clean" method="post" enctype="multipart/form-data">

<ul>
<li><h2>Clean up bad HTML</h2>
<li><p>After running any of these tools the resulting HTML files will be plain HTML5 with UTF-8 encoding. XHTML will be converted to HTML.
<li id="lxml">
<input name="cleanup" type="radio" value="applylxml" checked>
Just ensure document is well-formed HTML5 with utf-8 encoding. <p>Uses libxml2's error-correcting HTML parser which handles corrupt HTML very well, but does so silently. If you want feedback, or stronger correction of problems, select the Tidy option.</p>
<li id="tidy" > 
<input name="cleanup" type="radio" value="html5tidy"/>Apply HTML5 Tidy
<span class="flags"></span>
<ul><li> Level

<li><input name="tidy-level" type="radio" value=minimal data-flags="{{tidy_level.minimal}}" checked>Minimal <em>Tidies the document up largely leaving the markup alone</em>

<li><input name="tidy-level" type="radio" value=moderate data-flags="{{tidy_level.moderate}}">Moderate <em>Aggressively cleans up bad markup.</em>

<li><input name="tidy-level" type="radio" value=merciless data-flags="{{tidy_level.merciless}}">Merciless <em>Keeps structure but eliminates all styling information.</em>

<li id="tidy-extra"> Extra Options:
<ul>
<li><input name="tidy-nolinewrap" type="checkbox" data-flags="{{tidy_options['tidy-nolinewrap']}}" checked>No line wrap <em>Lines will be broken only at block level tags, like after a <code>&lt;/p&gt;</code></em>
<li><input name="tidy-logicalemphasis" type="checkbox" data-flags="{{tidy_options['tidy-logicalemphasis']}}" checked> Convert <code>&lt;b&gt;</code> to <code>&lt;strong&gt;</code>, <code>&lt;i&gt;</code> to <code>&lt;em&gt;</code>
<li><input name="tidy-force" type="checkbox" data-flags="{{tidy_options['tidy-force']}}"> Force output even in the case of errors. <em>Not reccomended! Errors should be fixed manually. For example if you spell a tag <code>&lt;blockquotw&gt;</code>, if Force Output is used, Tidy will simply remove the tag. You probably really do want a blockquote there. So fix it and don't force output.</em>
</ul>
</ul>
Tidy flags: <em> You can edit these if you know what you're doing.</em>
<textarea name="tidy-flags"></textarea>

<li>
<input name="cleanup" type="radio" value="descriptiveclasses" data-bound="[name=xml-tags], [name=brackets]">
Tidy document and normalize class names.
<p>Often in markup generated by a word processor, you will find numbered class 'names' and many different ways to represent say, bold blue text.
<p>This option will try it's best to name classes what they are.<br> For example:<br>
<code>&lt;span class="Big Blue Bold"&gt;Wow Heading&lt;/span&gt;</code>

<p>Note that this option <em>produces bad markup</em>, but it is very human readable bad markup. You can then manually replace these entities with the appropriate tags and classes.
<p> This option calls tidy with specific settings similiar to "moderate" above.
<ul><li>
<input name="xml-tags" type="checkbox"> Return XML tags.
<em>Instead of classes, make tags <code>&lt;spanBigBlueBold&gt;</code>, this is invalid HTML but can make search-replace particulary straightforward.</em>
<li><input name="brackets" type="checkbox" checked> Convert brackets to classes in tag clusters. <p> Sometimes you get bracketed headings, sometimes you get <code>&lt;b&gt;[heading]&lt;/b&gt;</code> and <code>[&lt;b&gt;heading&lt;/b&gt;]</code>, this replaces brackets with a class, <code>RoBr</code> or <code>SqBr</code>.
</ul>
<li id="decruft">
<h2> Remove rubbish </h2>
<p>Often html documents will have huge quantities of 'boiler-plate' code or even just pointless rubbish. These options can help to effortlessly clear away vast swathes of such cruft.
<ul>
<li>
<input name="cherrypick" type="checkbox" data-bound="[name=cherrypick-css]">
Replace the contents of body, with only elements that match the following css selector.
<input name="cherrypick-css" type="text"></input><br>
<p><em>For example the entire content of the document might be in the tag <code>&lt;div class="main-content&gt;</code>, if you entered <code class="css">div.main-content</code> above then everything except the contents of the main-content div will be eliminated from the document. The <code>Inspect Element</code> tool in your web browser's right-click menu is invaluable for discovering the parent element you need (Chrome/Chromium's is clearest).
</em></p>
<hr>
<li>
<input name="strip-header" type="checkbox" data-bound="[name=strip-header-css]" checked>Eliminate contents of the header unless they match:
<input name="strip-header-css" type="text" value="title, style"><br>
<p><em> Often there is no useful information in the header. If there is useful meta tags, for example <code>&lt;meta name="keywords" content="..."&gt;</code> and <code>&lt;meta name="translator" content="..."&gt;</code> then you could specify <code class="css">meta[name="keywords"], meta[name="translator"]</code> to save those elements from the cull.</em></p>
</ul>
<li>
<p>Please put all the htm/html/xhtml files you want processed in a zip archive and upload the zip file. Only zip archives are supported. You will receive a zip archive in return.</p>
<input name="userfile" type="file" required>
<button>Submit</button></p>
</ul>
</form>

{%- endblock %}
