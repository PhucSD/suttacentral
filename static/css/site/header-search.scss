$header-search-border-color: $header-menu-border-color;
$header-search-results-background-color: $off-white;
$header-search-results-border-color: $light-medium-gray;
$header-search-results-alt-background-color: $light-light-gray;
$header-search-results-hover-background-color: $light-medium-gray;
$header-search-results-highlight-background-color: $light-pastel-yellow;
$header-search-box-shadow-color: rgba($medium-gray, 0.8);

$header-search-height: $header-menu-height;
$header-search-font-size: $header-menu-font-size;
$header-search-input-width: 200px;
$header-search-button-width: 32px;
$header-search-width: $header-search-input-width + $header-search-button-width;
$header-search-button-img-size: 14px;

$tablet-header-search-height: $tablet-header-menu-height;
$tablet-header-search-font-size: $tablet-header-menu-font-size;
$tablet-header-search-input-width: 160px;
$tablet-header-search-button-width: 26px;
$tablet-header-search-width: $tablet-header-search-input-width + $tablet-header-search-button-width;
$tablet-header-search-button-img-size: 12px;

$mobile-header-search-height: $mobile-header-menu-height;
$mobile-header-search-font-size: $mobile-header-menu-font-size;
$mobile-header-search-input-width: 230px;
$mobile-header-search-button-width: 26px;
$mobile-header-search-width: $mobile-header-search-input-width + $mobile-header-search-button-width;
$mobile-header-search-button-img-size: 12px;

#page-header-search {
    position: absolute;
    bottom: 0;
    right: 0;
    width: $header-search-width;
    height: $header-search-height;
    @include sans-serif;
    font-size: $header-search-font-size;
    z-index: 1;

    @media #{$tablet} {
        bottom: $tablet-header-menu-height + $tablet-header-padding;
        width: $tablet-header-search-width;
        height: $tablet-header-search-height;
        font-size: $tablet-header-search-font-size;
    }

    @media #{$mobile} {
        right: inherit;
        left: 0;
        bottom: $mobile-header-menu-height + $mobile-header-padding;
        width: $mobile-header-search-width;
        height: $mobile-header-search-height;
        font-size: $mobile-header-search-font-size;
    }

    & > input, & > button {
        @include box-sizing(border-box);
        display: block;
        position: absolute;
        top: 0;
        height: $header-search-height;
        margin: 0;
        padding: 0;
        border-radius: 0.25em;
        border: 1px solid $header-search-border-color;
        line-height: $header-search-height;

        @media #{$tablet} {
            height: $tablet-header-search-height;
            line-height: $tablet-header-search-height;
        }

        @media #{$mobile} {
            height: $mobile-header-search-height;
            line-height: $mobile-header-search-height;
        }
    }
    
    & > input {
        left: 0;
        width: $header-search-input-width;
        padding: 0 0.3em;
        border-right: none;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
        box-shadow: inset 0 0 0.5em $button-box-shadow-color;

        @media #{$tablet} {
            width: $tablet-header-search-input-width;
        }

        @media #{$mobile} {
            width: $mobile-header-search-input-width;
        }
    }

    & > button {
        right: 0;
        width: $header-search-button-width;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        text-align: center;

        @media #{$tablet} {
            width: $tablet-header-search-button-width;
        }

        @media #{$mobile} {
            width: $mobile-header-search-button-width;
        }

        & > img {
            width: $header-search-button-img-size;
            height: $header-search-button-img-size;

            @media #{$tablet} {
                width: $tablet-header-search-button-img-size;
                height: $tablet-header-search-button-img-size;
            }

            @media #{$mobile} {
                width: $mobile-header-search-button-img-size;
                height: $mobile-header-search-button-img-size;
            }
        }
    }
}

#page-header-search-results {
    position: absolute;
    top: $header-height - 2px;
    right: -$tablet-header-padding;
    min-width: 20em;
    max-width: 100%;
    max-height: 35em;
    margin-top: -($header-search-height + $header-padding);
    padding: 1em;
    padding-top: $header-search-height + ($header-padding * 2);
    border: 1px solid $header-search-results-border-color;
    overflow: auto;
    @include sans-serif;
    font-size: $header-search-font-size;
    line-height: 2em;
    background-color: $header-search-results-background-color;
    box-shadow: -0.5em 0.5em 3em $header-search-box-shadow-color;

    @media #{$tablet} {
        top: $tablet-header-height - 2px;
        margin-top: -(($tablet-header-search-height + $tablet-header-padding) * 2);
        padding-top: $tablet-header-search-height + ($tablet-header-padding * 2);
        font-size: $tablet-header-search-font-size;
        line-height: 1.6em;
    }

    @media #{$mobile} {
        top: $mobile-header-height - 2px;
        right: inherit;
        left: -$mobile-header-padding;
        margin-top: -(($mobile-header-search-height + $mobile-header-padding) * 2);
        padding-top: $mobile-header-search-height + ($mobile-header-padding * 2);
        font-size: $mobile-header-search-font-size;
        line-height: 1.4em;
    }

    h3, ul, p, tr {
        margin: 0;
        padding: 0;
    }

    tr.even {
        background-color: $header-search-results-alt-background-color;
    }

    td {
        margin: 0;
        padding: 0 1em;
        
        &:nth-of-type(2) {
            max-width: 15em;
        }

        td:nth-of-type(4) {
            padding-left: 0.6em;
            padding-right: 0.6em;
        }
    }

    a {
        padding: 0.2em 0.3em;
        margin: -0.2em -0.3em;
    
        &:hover {
            background-color: $header-search-results-hover-background-color;
        }
    }

    .highlight {
        background-color: $header-search-results-highlight-background-color;
    }
}
